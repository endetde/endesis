<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="rep_cbte_partida" language="groovy" pageWidth="612" pageHeight="792" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20">
	<parameter name="pm_id_usuario" class="java.lang.Integer"/>
	<parameter name="pm_ip" class="java.lang.String"/>
	<parameter name="pm_mac" class="java.lang.String"/>
	<parameter name="pr_id_siet_declara" class="java.lang.Integer"/>
	<parameter name="pr_id_siet_cbte" class="java.lang.String">
		<defaultValueExpression><![CDATA['%']]></defaultValueExpression>
	</parameter>
	<parameter name="desc_usuario" class="java.lang.String"/>
	<queryString>
		<![CDATA[SELECT *
FROM presto.f_tpr_siet_declara_rep(131,'as','aa',
'PR_DECCBTEPAR_REP', NULL, 1000000, 0,'id_comprobante ', 'asc', '1=1 ', '%', '%', '%', '%', '%',
34,'%') AS
(  nro_cbte VARCHAR,
  concepto_cbte VARCHAR(1500),
  id_cbte INTEGER,
  nombre_cuenta VARCHAR(100),
  id_auxiliar INTEGER,
  codigo_auxiliar VARCHAR(15),
  nombre_auxiliar VARCHAR(100),
  nro_documento VARCHAR(200),
  fecha_salida_cb DATE,
  nro_cuenta_banco VARCHAR(30),
  importe NUMERIC,
  codigo_partida VARCHAR(18),
  nombre_partida VARCHAR(150),
  codigo_oec VARCHAR(20),
  sigla_oec VARCHAR(4),
  importe_general NUMERIC(18,2),
  id_siet_cbte INTEGER )
order by nro_cbte]]>
	</queryString>
	<field name="nro_cbte" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="concepto_cbte" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="id_cbte" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="nombre_cuenta" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="id_auxiliar" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="codigo_auxiliar" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="nombre_auxiliar" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="nro_documento" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="fecha_salida_cb" class="java.sql.Date">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="nro_cuenta_banco" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="importe" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="codigo_partida" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="nombre_partida" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="codigo_oec" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="sigla_oec" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="importe_general" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="id_siet_cbte" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<variable name="importe_1" class="java.math.BigDecimal" resetType="Group" resetGroup="comprobante" calculation="Sum">
		<variableExpression><![CDATA[$F{importe}]]></variableExpression>
	</variable>
	<variable name="importe_2" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{importe}]]></variableExpression>
	</variable>
	<group name="comprobante">
		<groupExpression><![CDATA[$F{id_siet_cbte}]]></groupExpression>
		<groupHeader>
			<band height="30">
				<line>
					<reportElement x="1" y="0" width="571" height="1"/>
					<graphicElement>
						<pen lineWidth="0.2"/>
					</graphicElement>
				</line>
				<textField isStretchWithOverflow="true">
					<reportElement x="16" y="20" width="456" height="10"/>
					<textElement>
						<font size="6" isBold="false" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{concepto_cbte}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="180" y="10" width="48" height="10"/>
					<textElement>
						<font size="6" isBold="false" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{nro_documento}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="179" y="0" width="91" height="10"/>
					<textElement>
						<font size="6" isBold="false" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{nro_cuenta_banco}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="137" y="0" width="42" height="10"/>
					<textElement>
						<font size="6" isBold="true" isItalic="true" isUnderline="false" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<text><![CDATA[Nro Cuenta B:]]></text>
				</staticText>
				<staticText>
					<reportElement x="137" y="10" width="31" height="10"/>
					<textElement>
						<font size="6" isBold="true" isItalic="true" isUnderline="false" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<text><![CDATA[Cheque:]]></text>
				</staticText>
				<textField>
					<reportElement x="1" y="20" width="15" height="10"/>
					<textElement>
						<font size="6"/>
					</textElement>
					<textFieldExpression class="java.lang.Integer"><![CDATA[$F{id_cbte}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="1" y="0" width="42" height="10"/>
					<textElement>
						<font size="6" isBold="true" isItalic="true" isUnderline="false" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<text><![CDATA[Comprobante:]]></text>
				</staticText>
				<textField isStretchWithOverflow="true">
					<reportElement x="43" y="0" width="94" height="10"/>
					<textElement>
						<font size="6" isBold="false" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{nro_cbte}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="1" y="10" width="42" height="10"/>
					<textElement>
						<font size="6" isBold="true" isItalic="true" isUnderline="false" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<text><![CDATA[Fecha Cbte:]]></text>
				</staticText>
				<staticText>
					<reportElement x="473" y="20" width="42" height="10"/>
					<textElement markup="none">
						<font size="6" isBold="true" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<text><![CDATA[Importe Gral.]]></text>
				</staticText>
				<textField pattern="#,##0.00;-#,##0.00">
					<reportElement x="516" y="20" width="57" height="10"/>
					<textElement textAlignment="Right">
						<font size="6"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{importe_general}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" evaluationTime="Report" pattern="dd/MM/yyyy">
					<reportElement x="43" y="10" width="94" height="10"/>
					<textElement>
						<font size="6" isBold="false" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<textFieldExpression class="java.util.Date"><![CDATA[$F{fecha_salida_cb}]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="10">
				<textField pattern="#,##0.00;-#,##0.00">
					<reportElement x="515" y="0" width="57" height="10"/>
					<textElement textAlignment="Right">
						<font size="6"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{importe_1}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="472" y="0" width="43" height="10"/>
					<textElement>
						<font size="6" isBold="true" isItalic="true" isUnderline="true" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<text><![CDATA[Total por Cbte]]></text>
				</staticText>
				<line>
					<reportElement x="515" y="0" width="57" height="1"/>
					<graphicElement>
						<pen lineWidth="0.2"/>
					</graphicElement>
				</line>
			</band>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="23" splitType="Stretch">
			<textField>
				<reportElement x="1" y="0" width="571" height="23"/>
				<textElement textAlignment="Center" markup="none">
					<font size="12" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["Reporte resumen por Comprobante de Pago "]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<detail>
		<band height="10" splitType="Stretch">
			<textField>
				<reportElement x="0" y="0" width="43" height="10"/>
				<textElement>
					<font size="6"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{codigo_partida}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00;-#,##0.00">
				<reportElement x="515" y="0" width="57" height="10"/>
				<textElement textAlignment="Right">
					<font size="6"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{importe}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement x="43" y="0" width="227" height="10"/>
				<textElement>
					<font size="6"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{nombre_partida}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="270" y="0" width="39" height="10"/>
				<textElement>
					<font size="6"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{sigla_oec}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="309" y="0" width="206" height="10"/>
				<textElement>
					<font size="6"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{codigo_oec}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<pageFooter>
		<band height="20">
			<textField evaluationTime="Report">
				<reportElement x="1" y="0" width="204" height="10" forecolor="#000000"/>
				<textElement verticalAlignment="Middle">
					<font size="6" isBold="false"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["Usuario: " + $P{desc_usuario}]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report" isBlankWhenNull="true">
				<reportElement x="1" y="10" width="88" height="10" forecolor="#000000"/>
				<textElement verticalAlignment="Middle">
					<font size="6" isBold="false"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["Sistema: ENDESIS - PRESTO"]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy">
				<reportElement x="473" y="0" width="100" height="10" forecolor="#000000"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="6"/>
				</textElement>
				<textFieldExpression class="java.util.Date"><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="1" y="0" width="572" height="1"/>
				<graphicElement>
					<pen lineWidth="0.25" lineStyle="Solid"/>
				</graphicElement>
			</line>
			<textField>
				<reportElement x="205" y="0" width="90" height="10" forecolor="#000000"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="6" isBold="false"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["Página "+$V{PAGE_NUMBER}+" de"]]></textFieldExpression>
			</textField>
			<textField pattern="HH:mm:ss">
				<reportElement x="473" y="10" width="100" height="10" forecolor="#000000"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="6"/>
				</textElement>
				<textFieldExpression class="java.util.Date"><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report">
				<reportElement x="295" y="0" width="72" height="10" forecolor="#000000"/>
				<textElement verticalAlignment="Middle">
					<font size="6" isBold="false"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[" " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
	<summary>
		<band height="10">
			<staticText>
				<reportElement x="472" y="0" width="43" height="10"/>
				<textElement>
					<font size="6" isBold="true" isItalic="true" isUnderline="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[Total]]></text>
			</staticText>
			<textField pattern="#,##0.00">
				<reportElement x="515" y="0" width="57" height="10"/>
				<textElement textAlignment="Right">
					<font size="6"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{importe_2}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="1" y="9" width="571" height="1"/>
				<graphicElement>
					<pen lineWidth="0.2"/>
				</graphicElement>
			</line>
		</band>
	</summary>
</jasperReport>
